var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(n)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n,s){if(t){const l=c(t,e,n,s);return t[0](l)}}function c(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function i(t,e,n,s,l,o,r){const a=function(t,e,n,s){if(t[2]&&s){const l=t[2](s(n));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],n=Math.max(e.dirty.length,l.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|l[s];return t}return e.dirty|l}return e.dirty}(e,s,l,o);if(a){const l=c(e,n,s,r);t.p(l,a)}}function u(t){return null==t?"":t}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),p=d?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach((e=>{e.c(t)||(m.delete(e),e.f())})),0!==m.size&&p($)}function g(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function b(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function _(){return x("")}function k(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function j(t){return""===t?null:+t}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function S(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function M(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const I=new Set;let q,T=0;function L(t,e,n,s,l,o,r,a=0){const c=16.666/s;let i="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*o(t);i+=100*t+`%{${r(s,1-s)}}\n`}const u=i+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=t.ownerDocument;I.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(y("style")).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${d} ${s}ms linear ${l}ms 1 both`,T+=1,d}function A(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),l=n.length-s.length;l&&(t.style.animation=s.join(", "),T-=l,T||p((()=>{T||(I.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),I.clear())})))}function D(t){q=t}function N(){if(!q)throw new Error("Function called outside component initialization");return q}function P(t){N().$$.on_mount.push(t)}function z(){const t=N();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const l=M(e,n);s.slice().forEach((e=>{e.call(t,l)}))}}}const Y=[],R=[],V=[],W=[],F=Promise.resolve();let B=!1;function J(t){V.push(t)}function Q(t){W.push(t)}let H=!1;const U=new Set;function X(){if(!H){H=!0;do{for(let t=0;t<Y.length;t+=1){const e=Y[t];D(e),Z(e.$$)}for(D(null),Y.length=0;R.length;)R.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];U.has(e)||(U.add(e),e())}V.length=0}while(Y.length);for(;W.length;)W.pop()();B=!1,H=!1,U.clear()}}function Z(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let G;function K(t,e,n){t.dispatchEvent(M(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function st(){et.r||l(et.c),et=et.p}function lt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ot(t,e,n,s){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const rt={duration:0};function at(n,s,r,a){let c=s(n,r),i=a?0:1,u=null,d=null,g=null;function h(){g&&A(n,g)}function v(t,e){const n=t.b-i;return e*=Math.abs(n),{a:i,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(s){const{delay:o=0,duration:r=300,easing:a=e,tick:b=t,css:y}=c||rt,x={start:f()+o,b:s};s||(x.group=et,et.r+=1),u||d?d=x:(y&&(h(),g=L(n,i,s,r,o,a,y)),s&&b(0,1),u=v(x,r),J((()=>K(n,s,"start"))),function(t){let e;0===m.size&&p($),new Promise((n=>{m.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(u=v(d,r),d=null,K(n,u.b,"start"),y&&(h(),g=L(n,i,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)b(i=u.b,1-i),K(n,u.b,"end"),d||(u.b?h():--u.group.r||l(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;i=u.a+u.d*a(e/u.duration),b(i,1-i)}return!(!u&&!d)})))}return{run(t){o(c)?(G||(G=Promise.resolve(),G.then((()=>{G=null}))),G).then((()=>{c=c(),b(t)})):b(t)},end(){h(),u=d=null}}}function ct(t,e){const n=e.token={};function s(t,s,l,o){if(e.token!==n)return;e.resolved=o;let r=e.ctx;void 0!==l&&(r=r.slice(),r[l]=o);const a=t&&(e.current=t)(r);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==s&&t&&(nt(),ot(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),st())})):e.block.d(1),a.c(),lt(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[s]=a),c&&X()}if((l=t)&&"object"==typeof l&&"function"==typeof l.then){const n=N();if(t.then((t=>{D(n),s(e.then,1,e.value,t),D(null)}),(t=>{if(D(n),s(e.catch,2,e.error,t),D(null),!e.hasCatch)throw t})),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}var l}function it(t,e){ot(t,1,1,(()=>{e.delete(t.key)}))}function ut(t,e,n,s,l,o,r,a,c,i,u,d){let f=t.length,p=o.length,m=f;const $={};for(;m--;)$[t[m].key]=m;const g=[],h=new Map,v=new Map;for(m=p;m--;){const t=d(l,o,m),a=n(t);let c=r.get(a);c?s&&c.p(t,e):(c=i(a,t),c.c()),h.set(a,g[m]=c),a in $&&v.set(a,Math.abs(m-$[a]))}const b=new Set,y=new Set;function x(t){lt(t,1),t.m(a,u),r.set(t.key,t),u=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],s=e.key,l=n.key;e===n?(u=e.first,f--,p--):h.has(l)?!r.has(s)||b.has(s)?x(e):y.has(l)?f--:v.get(s)>v.get(l)?(y.add(s),x(e)):(b.add(l),f--):(c(n,r),f--)}for(;f--;){const e=t[f];h.has(e.key)||c(e,r)}for(;p;)x(g[p-1]);return g}function dt(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function ft(t){t&&t.c()}function pt(t,e,s){const{fragment:r,on_mount:a,on_destroy:c,after_update:i}=t.$$;r&&r.m(e,s),J((()=>{const e=a.map(n).filter(o);c?c.push(...e):l(e),t.$$.on_mount=[]})),i.forEach(J)}function mt(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $t(t,e){-1===t.$$.dirty[0]&&(Y.push(t),B||(B=!0,F.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,n,o,r,a,c,i=[-1]){const u=q;D(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:i,skip_bound:!1};let f=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...s)=>{const l=s.length?s[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=l)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](l),f&&$t(e,t)),n})):[],d.update(),f=!0,l(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();n.intro&&lt(e.$$.fragment),pt(e,n.target,n.anchor),X()}D(u)}class ht{$destroy(){mt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function vt(e){let n,s,l,o,r,a;return{c(){n=y("button"),s=y("i"),C(s,"class",l=u(`${e[1]} ${e[0]}`)+" svelte-13s0bd3"),C(n,"class",o=u(`icon ${e[2]}`)+" svelte-13s0bd3")},m(t,l){h(t,n,l),g(n,s),r||(a=k(n,"click",e[3]),r=!0)},p(t,[e]){3&e&&l!==(l=u(`${t[1]} ${t[0]}`)+" svelte-13s0bd3")&&C(s,"class",l),4&e&&o!==(o=u(`icon ${t[2]}`)+" svelte-13s0bd3")&&C(n,"class",o)},i:t,o:t,d(t){t&&v(n),r=!1,a()}}}function bt(t,e,n){let{faClass:s="fa-download"}=e,{faBase:l="fas"}=e,{extraClass:o="icon--btn"}=e;return t.$$set=t=>{"faClass"in t&&n(0,s=t.faClass),"faBase"in t&&n(1,l=t.faBase),"extraClass"in t&&n(2,o=t.extraClass)},[s,l,o,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class yt extends ht{constructor(t){super(),gt(this,t,bt,vt,r,{faClass:0,faBase:1,extraClass:2})}}function xt(t){let e,n,s,o,r,a,c,i,u,d,f,p,m,$,b,x,_,j,E,O;return i=new yt({props:{extraClass:"icon--btn m-0--important",faClass:"fa-info"}}),f=new yt({props:{extraClass:"icon--btn m-0--important",faClass:"far fa-check-square"}}),$=new yt({props:{extraClass:"icon--btn m-0--important",faClass:"fa-align-left"}}),_=new yt({props:{extraClass:"icon--btn m-0--important",faClass:"fa-plus"}}),{c(){e=y("nav"),n=y("input"),s=w(),o=y("label"),o.innerHTML='<span class="svelte-wl5qur"></span> \n\t\t<span class="svelte-wl5qur"></span> \n\t\t<span class="svelte-wl5qur"></span> \n\t\t<span class="svelte-wl5qur"></span>',r=w(),a=y("ul"),c=y("li"),ft(i.$$.fragment),u=w(),d=y("li"),ft(f.$$.fragment),p=w(),m=y("li"),ft($.$$.fragment),b=w(),x=y("li"),ft(_.$$.fragment),C(n,"type","checkbox"),C(n,"id","hamburger-menu-control"),C(n,"class","svelte-wl5qur"),C(o,"class","hamburger-menu svelte-wl5qur"),C(o,"for","hamburger-menu-control"),C(c,"class","nav__item svelte-wl5qur"),S(c,"--nth","1"),S(c,"--to-x","-126.504px"),S(c,"--to-y","1.54923e-14px"),C(d,"class","nav__item svelte-wl5qur"),S(d,"--nth","2"),S(d,"--to-x","-109.556px"),S(d,"--to-y","-63.252px"),C(m,"class","nav__item svelte-wl5qur"),S(m,"--nth","3"),S(m,"--to-x","-63.252px"),S(m,"--to-y","-109.556px"),C(x,"class","nav__item svelte-wl5qur"),S(x,"--nth","4"),S(x,"--to-x","-2.32384e-14px"),S(x,"--to-y","-126.504px"),C(a,"class","nav__items reset svelte-wl5qur"),C(e,"class","app-nav nav nav--circular svelte-wl5qur")},m(l,v){h(l,e,v),g(e,n),n.checked=t[0],g(e,s),g(e,o),g(e,r),g(e,a),g(a,c),pt(i,c,null),g(a,u),g(a,d),pt(f,d,null),g(a,p),g(a,m),pt($,m,null),g(a,b),g(a,x),pt(_,x,null),j=!0,E||(O=[k(n,"change",t[2]),k(c,"click",t[3]),k(d,"click",t[4]),k(m,"click",t[5]),k(x,"click",t[6]),k(a,"click",t[7])],E=!0)},p(t,[e]){1&e&&(n.checked=t[0])},i(t){j||(lt(i.$$.fragment,t),lt(f.$$.fragment,t),lt($.$$.fragment,t),lt(_.$$.fragment,t),j=!0)},o(t){ot(i.$$.fragment,t),ot(f.$$.fragment,t),ot($.$$.fragment,t),ot(_.$$.fragment,t),j=!1},d(t){t&&v(e),mt(i),mt(f),mt($),mt(_),E=!1,l(O)}}}function wt(t,e,n){const s=z();let{isOpen:l=!1}=e;return t.$$set=t=>{"isOpen"in t&&n(0,l=t.isOpen)},[l,s,function(){l=this.checked,n(0,l)},()=>s("info",null),()=>s("selectMode",null),()=>s("newQuery",null),()=>s("addItems",null),()=>n(0,l=!1)]}class _t extends ht{constructor(t){super(),gt(this,t,wt,xt,r,{isOpen:0})}}function kt(t){const e=t-1;return e*e*e+1}function Ct(t,{delay:e=0,duration:n=400,easing:s=kt,x:l=0,y:o=0,opacity:r=0}={}){const a=getComputedStyle(t),c=+a.opacity,i="none"===a.transform?"":a.transform,u=c*(1-r);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${i} translate(${(1-t)*l}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}function jt(t,{delay:e=0,duration:n=400,easing:s=kt}={}){const l=getComputedStyle(t),o=+l.opacity,r=parseFloat(l.height),a=parseFloat(l.paddingTop),c=parseFloat(l.paddingBottom),i=parseFloat(l.marginTop),u=parseFloat(l.marginBottom),d=parseFloat(l.borderTopWidth),f=parseFloat(l.borderBottomWidth);return{delay:e,duration:n,easing:s,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*r}px;padding-top: ${t*a}px;padding-bottom: ${t*c}px;margin-top: ${t*i}px;margin-bottom: ${t*u}px;border-top-width: ${t*d}px;border-bottom-width: ${t*f}px;`}}function Et(t){let e,n,s,l;return{c(){e=y("a"),n=x("Download"),C(e,"href",t[2]),C(e,"class","btn btn-outline-primary svelte-1rqhmrr")},m(t,s){h(t,e,s),g(e,n),l=!0},p(t,n){(!l||4&n)&&C(e,"href",t[2])},i(t){l||(J((()=>{s||(s=at(e,Ct,{x:200,duration:400},!0)),s.run(1)})),l=!0)},o(t){s||(s=at(e,Ct,{x:200,duration:400},!1)),s.run(0),l=!1},d(t){t&&v(e),t&&s&&s.end()}}}function Ot(t){let e,n,s,o,r,a,c,i,d,f,p,m,$,b,x,_,j,E,S,M,I,q,T,L;c=new yt({props:{extraClass:"icon--image position-absolute r-2",faClass:"fa-search"}});let A=t[2]&&Et(t);return{c(){e=y("header"),n=y("h1"),n.textContent="Videos",s=w(),o=y("div"),r=y("input"),a=w(),ft(c.$$.fragment),i=w(),d=y("div"),f=y("div"),p=y("span"),m=y("button"),m.textContent="Select All",$=w(),b=y("button"),b.textContent="Deselect All",x=w(),_=y("button"),_.textContent="Cancel",j=w(),E=y("span"),S=y("button"),S.textContent="Zip Files",M=w(),A&&A.c(),C(n,"class","svelte-1rqhmrr"),C(r,"type","text"),C(r,"placeholder","Enter text to filter displayed items"),C(r,"class","svelte-1rqhmrr"),C(o,"class","app-header__search-input svelte-1rqhmrr"),C(e,"class","app-header svelte-1rqhmrr"),C(m,"class","btn btn-outline-primary svelte-1rqhmrr"),C(b,"class","btn btn-outline-primary svelte-1rqhmrr"),C(_,"class","btn btn-outline-primary svelte-1rqhmrr"),C(p,"class"," svelte-1rqhmrr"),C(S,"class","btn btn-primary svelte-1rqhmrr"),C(E,"class"," svelte-1rqhmrr"),C(f,"class",u("app-selection-controls__container")+" svelte-1rqhmrr"),C(d,"class",I=u(`app-selection-controls ${t[1]?"visible":""} ${t[3]?"app-selection-controls--show":""}`)+" svelte-1rqhmrr")},m(l,u){h(l,e,u),g(e,n),g(e,s),g(e,o),g(o,r),O(r,t[0]),g(o,a),pt(c,o,null),h(l,i,u),h(l,d,u),g(d,f),g(f,p),g(p,m),g(p,$),g(p,b),g(p,x),g(p,_),g(f,j),g(f,E),g(E,S),g(E,M),A&&A.m(E,null),q=!0,T||(L=[k(r,"input",t[5]),k(m,"click",t[6]),k(b,"click",t[7]),k(_,"click",t[8]),k(S,"click",t[9])],T=!0)},p(t,[e]){1&e&&r.value!==t[0]&&O(r,t[0]),t[2]?A?(A.p(t,e),4&e&&lt(A,1)):(A=Et(t),A.c(),lt(A,1),A.m(E,null)):A&&(nt(),ot(A,1,1,(()=>{A=null})),st()),(!q||10&e&&I!==(I=u(`app-selection-controls ${t[1]?"visible":""} ${t[3]?"app-selection-controls--show":""}`)+" svelte-1rqhmrr"))&&C(d,"class",I)},i(t){q||(lt(c.$$.fragment,t),lt(A),q=!0)},o(t){ot(c.$$.fragment,t),ot(A),q=!1},d(t){t&&v(e),mt(c),t&&v(i),t&&v(d),A&&A.d(),T=!1,l(L)}}}function St(t,e,n){const s=z();let{isInSelectionMode:l}=e,o=!1,{filterExpression:r=""}=e,{downloadLink:a=null}=e;return t.$$set=t=>{"isInSelectionMode"in t&&n(1,l=t.isInSelectionMode),"filterExpression"in t&&n(0,r=t.filterExpression),"downloadLink"in t&&n(2,a=t.downloadLink)},t.$$.update=()=>{2&t.$$.dirty&&l&&setTimeout((()=>n(3,o=!0)),200),2&t.$$.dirty&&!l&&n(3,o=!1)},[r,l,a,o,s,function(){r=this.value,n(0,r)},()=>s("selectionControlAction","select-all"),()=>s("selectionControlAction","select-none"),()=>s("selectionControlAction","cancel"),()=>s("selectionControlAction","download")]}class Mt extends ht{constructor(t){super(),gt(this,t,St,Ot,r,{isInSelectionMode:1,filterExpression:0,downloadLink:2})}}function It(t){let e,n,s,l,o,r,c;const u=t[4].default,d=a(u,t,t[3],null);return{c(){e=y("section"),n=y("aside"),s=y("span"),s.textContent=`${t[0]}`,l=w(),o=y("span"),o.textContent=`${t[1]}`,r=w(),d&&d.c(),C(s,"class","group__day svelte-1dd247w"),C(o,"class","group__month svelte-1dd247w"),C(n,"class","group__date svelte-1dd247w"),C(e,"class","group svelte-1dd247w")},m(t,a){h(t,e,a),g(e,n),g(n,s),g(n,l),g(n,o),g(e,r),d&&d.m(e,null),c=!0},p(t,[e]){d&&d.p&&8&e&&i(d,u,t,t[3],e,null,null)},i(t){c||(lt(d,t),c=!0)},o(t){ot(d,t),c=!1},d(t){t&&v(e),d&&d.d(t)}}}function qt(t,e,n){let{$$slots:s={},$$scope:l}=e,{data:o=[16,"Oct"]}=e;const[r,a]=o;return t.$$set=t=>{"data"in t&&n(2,o=t.data),"$$scope"in t&&n(3,l=t.$$scope)},[r,a,o,l,s]}class Tt extends ht{constructor(t){super(),gt(this,t,qt,It,r,{data:2})}}function Lt(t,e=500){const n=()=>{const n=setTimeout((()=>{console.log("Here"),t.dispatchEvent(new CustomEvent("longpress"))}),e),s=()=>{clearTimeout(n),t.removeEventListener("mousemove",s),t.removeEventListener("mouseup",s)};t.addEventListener("mousemove",s),t.addEventListener("mouseup",s)};return t.addEventListener("mousedown",n),{destroy(){t.removeEventListener("mousedown",n)}}}const At="http://youtube.downloader.local",Dt=`${At}/api`;const Nt=t=>`${At}/thumbnails/${t}`;function Pt(t,e,n){const s=t.slice();return s[6]=e[n],s}function zt(t){let e,n,s,l,o;return{c(){e=y("label"),n=y("input"),C(n,"type","checkbox"),C(n,"id",t[2]),n.checked=s=t[1].selected,C(e,"for",t[2]),C(e,"class","group__checkbox svelte-1cu461b")},m(s,r){h(s,e,r),g(e,n),l||(o=k(n,"change",t[4]),l=!0)},p(t,l){4&l&&C(n,"id",t[2]),2&l&&s!==(s=t[1].selected)&&(n.checked=s),4&l&&C(e,"for",t[2])},d(t){t&&v(e),l=!1,o()}}}function Yt(e){let n;return{c(){n=y("i"),C(n,"class","fas fa-video-slash")},m(t,e){h(t,n,e)},p:t,d(t){t&&v(n)}}}function Rt(e){let n,s;return{c(){n=y("img"),C(n,"class"," svelte-1cu461b"),n.src!==(s=e[3])&&C(n,"src",s),C(n,"alt","video-thumbnail")},m(t,e){h(t,n,e)},p:t,d(t){t&&v(n)}}}function Vt(t){let e,n,s=t[6]+"";return{c(){e=y("span"),n=x(s),C(e,"class","group__keyword svelte-1cu461b")},m(t,s){h(t,e,s),g(e,n)},p(t,e){2&e&&s!==(s=t[6]+"")&&E(n,s)},d(t){t&&v(e)}}}function Wt(e){let n,s,r,a,c,i,d,f,p,m,$,_,j,O,S,M,I,q,T,L,A,D,N=e[1].title+"",P=e[1].author+"",z=e[0]&&zt(e);let Y=function(t,e){return t[3]?Rt:Yt}(e)(e),R=e[1].keywords,V=[];for(let t=0;t<R.length;t+=1)V[t]=Vt(Pt(e,R,t));return M=new yt({props:{extraClass:"icon--option no-box-shadow--important hover:bg-dark-5--important scale-up-10",faClass:"fa-ellipsis-v "}}),{c(){n=y("section"),z&&z.c(),s=w(),r=y("a"),Y.c(),c=w(),i=y("div"),d=y("h1"),f=x(N),p=w(),m=y("h2"),$=x(P),_=w(),j=y("div");for(let t=0;t<V.length;t+=1)V[t].c();O=w(),S=y("div"),ft(M.$$.fragment),C(r,"href",a=e[1].watch_url),C(r,"rel","noopener noreferrer"),C(r,"target","_blank"),C(r,"class",u("reset group__thumbnail "+(e[3]?"":"group__thumbnail--placeholder"))+" svelte-1cu461b"),C(d,"class","group__title svelte-1cu461b"),C(m,"class","group__subtitle svelte-1cu461b"),C(j,"class","group__keywords svelte-1cu461b"),C(i,"class","group__title-block"),C(S,"class","group__more has-menu svelte-1cu461b"),C(S,"data-id-menu-owner",I=e[1].id),C(n,"class",q=u("group "+(e[1].completed_at?"group--downloaded":""))+" svelte-1cu461b")},m(l,a){h(l,n,a),z&&z.m(n,null),g(n,s),g(n,r),Y.m(r,null),g(n,c),g(n,i),g(i,d),g(d,f),g(i,p),g(i,m),g(m,$),g(i,_),g(i,j);for(let t=0;t<V.length;t+=1)V[t].m(j,null);var u;g(n,O),g(n,S),pt(M,S,null),L=!0,A||(D=[(u=Lt.call(null,n),u&&o(u.destroy)?u.destroy:t),k(n,"longpress",e[4])],A=!0)},p(t,[e]){if(t[0]?z?z.p(t,e):(z=zt(t),z.c(),z.m(n,s)):z&&(z.d(1),z=null),Y.p(t,e),(!L||2&e&&a!==(a=t[1].watch_url))&&C(r,"href",a),(!L||2&e)&&N!==(N=t[1].title+"")&&E(f,N),(!L||2&e)&&P!==(P=t[1].author+"")&&E($,P),2&e){let n;for(R=t[1].keywords,n=0;n<R.length;n+=1){const s=Pt(t,R,n);V[n]?V[n].p(s,e):(V[n]=Vt(s),V[n].c(),V[n].m(j,null))}for(;n<V.length;n+=1)V[n].d(1);V.length=R.length}(!L||2&e&&I!==(I=t[1].id))&&C(S,"data-id-menu-owner",I),(!L||2&e&&q!==(q=u("group "+(t[1].completed_at?"group--downloaded":""))+" svelte-1cu461b"))&&C(n,"class",q)},i(t){L||(lt(M.$$.fragment,t),J((()=>{T||(T=at(n,jt,{},!0)),T.run(1)})),L=!0)},o(t){ot(M.$$.fragment,t),T||(T=at(n,jt,{},!1)),T.run(0),L=!1},d(t){t&&v(n),z&&z.d(),Y.d(),b(V,t),mt(M),t&&T&&T.end(),A=!1,l(D)}}}function Ft(t,e,n){let s,{isInSelectionMode:l=!1}=e,{data:o}=e;const r=Nt(o.thumbnail_filename),a=z();return t.$$set=t=>{"isInSelectionMode"in t&&n(0,l=t.isInSelectionMode),"data"in t&&n(1,o=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(2,s=`item-checkbox-${o.id}`)},[l,o,s,r,()=>a("selectionChange",{itemId:o.id,state:o.selected})]}class Bt extends ht{constructor(t){super(),gt(this,t,Ft,Wt,r,{isInSelectionMode:0,data:1})}}const Jt=t=>t.reduce(((t,e)=>{const{date:n,month:s,year:l}=(t=>{const e=new Date(t);return{date:e.getDate(),month:e.toLocaleString("en-us",{month:"short"}),year:e.getFullYear()}})(e.added_at),o=(({date:t,month:e,year:n})=>`${t}::${e}`)({date:n,month:s,year:l});return o in t||(t[o]=[]),t[o].push(Object.assign(Object.assign({},e),{date:n,month:s,year:l})),t}),{}),Qt=([t])=>[t.date,t.month,t.year];function Ht(t,e,n){const s=t.slice();return s[6]=e[n],s}function Ut(t,e,n){const s=t.slice();return s[9]=e[n],s}function Xt(e){let n;return{c(){n=y("p"),n.textContent="An error occurred!"},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function Zt(t){let e,n,s=[],l=new Map,o=t[3];const r=t=>t[6];for(let e=0;e<o.length;e+=1){let n=Ht(t,o,e),a=r(n);l.set(a,s[e]=te(a,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=_()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);h(t,e,l),n=!0},p(t,n){29&n&&(o=t[3],nt(),s=ut(s,n,r,1,t,o,l,e.parentNode,it,te,e,Ht),st())},i(t){if(!n){for(let t=0;t<o.length;t+=1)lt(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)ot(s[t]);n=!1},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&v(e)}}}function Gt(t,e){let n,s,l;return s=new Bt({props:{data:e[9],isInSelectionMode:e[0]}}),s.$on("selectionChange",e[4]),{key:t,first:null,c(){n=_(),ft(s.$$.fragment),this.first=n},m(t,e){h(t,n,e),pt(s,t,e),l=!0},p(t,n){e=t;const l={};12&n&&(l.data=e[9]),1&n&&(l.isInSelectionMode=e[0]),s.$set(l)},i(t){l||(lt(s.$$.fragment,t),l=!0)},o(t){ot(s.$$.fragment,t),l=!1},d(t){t&&v(n),mt(s,t)}}}function Kt(t){let e,n,s=[],l=new Map,o=t[2][t[6]];const r=t=>t[9].id;for(let e=0;e<o.length;e+=1){let n=Ut(t,o,e),a=r(n);l.set(a,s[e]=Gt(a,n))}return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=w()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);h(t,e,l),n=!0},p(t,n){29&n&&(o=t[2][t[6]],nt(),s=ut(s,n,r,1,t,o,l,e.parentNode,it,Gt,e,Ut),st())},i(t){if(!n){for(let t=0;t<o.length;t+=1)lt(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)ot(s[t]);n=!1},d(t){for(let e=0;e<s.length;e+=1)s[e].d(t);t&&v(e)}}}function te(t,e){let n,s,l;return s=new Tt({props:{data:Qt(e[2][e[6]]),$$slots:{default:[Kt]},$$scope:{ctx:e}}}),{key:t,first:null,c(){n=_(),ft(s.$$.fragment),this.first=n},m(t,e){h(t,n,e),pt(s,t,e),l=!0},p(t,n){e=t;const l={};12&n&&(l.data=Qt(e[2][e[6]])),4109&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l)},i(t){l||(lt(s.$$.fragment,t),l=!0)},o(t){ot(s.$$.fragment,t),l=!1},d(t){t&&v(n),mt(s,t)}}}function ee(e){let n;return{c(){n=y("p"),n.textContent="...waiting"},m(t,e){h(t,n,e)},p:t,i:t,o:t,d(t){t&&v(n)}}}function ne(t){let e,n,s,l={ctx:t,current:null,token:null,hasCatch:!0,pending:ee,then:Zt,catch:Xt,blocks:[,,,]};return ct(n=t[1],l),{c(){e=y("main"),l.block.c(),C(e,"class","registry svelte-qg6vhr")},m(t,n){h(t,e,n),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,s=!0},p(e,[s]){if(t=e,l.ctx=t,2&s&&n!==(n=t[1])&&ct(n,l));else{const e=t.slice();l.block.p(e,s)}},i(t){s||(lt(l.block),s=!0)},o(t){for(let t=0;t<3;t+=1){ot(l.blocks[t])}s=!1},d(t){t&&v(e),l.block.d(),l.token=null,l=null}}}function se(t,e,n){let s,l,{isInSelectionMode:o=!1}=e,{data:r=[]}=e;const a=z();return t.$$set=t=>{"isInSelectionMode"in t&&n(0,o=t.isInSelectionMode),"data"in t&&n(1,r=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(2,s=Jt(r)),4&t.$$.dirty&&n(3,l=Object.keys(s).sort(((t,e)=>s[t][0].added_at-s[e][0].added_at)))},[o,r,s,l,({type:t,detail:e})=>a(t,e)]}class le extends ht{constructor(t){super(),gt(this,t,se,ne,r,{isInSelectionMode:0,data:1})}}const oe=t=>Object.keys(t).find((e=>t[e]==t.default&&"default"!==e)),re=t=>["success","failure"].includes(t)?`item-to-add--${t}`:"";function ae(t,e,n){const s=t.slice();return s[3]=e[n],s}function ce(t,e,n){const s=t.slice();return s[6]=e[n],s}function ie(t,e,n){const s=t.slice();return s[9]=e[n],s}function ue(t){let e,n,s,l,o,r,a,c,i,d,f,p,m,$,_,k,j,O,S,M,I,q,T,L,A,D,N,P,z,Y,R,V,W,F,B,J,Q,H,U,X,Z,G=t[0].title+"",K=t[0].status>0?"Downloaded":"Scheduled",tt=t[0].author+"",et=t[0].length+"",nt=t[0].added_at_str+"",st=(t[0].completed_at_str?t[0].completed_at_str:"")+"";a=new yt({props:{extraClass:"icon--image p-0--important m-0--important font-normal",faClass:"fa-link "}});let rt=Object.keys(t[0].streams).filter($e),at=[];for(let e=0;e<rt.length;e+=1)at[e]=de(ie(t,rt,e));let ct=t[0].tags,it=[];for(let e=0;e<ct.length;e+=1)it[e]=fe(ce(t,ct,e));let ut=t[0].keywords,dt=[];for(let e=0;e<ut.length;e+=1)dt[e]=pe(ae(t,ut,e));return{c(){e=y("h4"),n=y("a"),s=y("span"),l=x(G),o=w(),r=y("span"),ft(a.$$.fragment),i=w(),d=y("span"),f=x(K),m=w(),$=y("img"),k=w(),j=y("h5"),O=y("span"),S=x(tt),M=w(),I=y("span"),q=x(et),T=w(),L=y("p"),A=y("span"),A.textContent="Resolution:",D=w();for(let t=0;t<at.length;t+=1)at[t].c();N=w(),P=y("p"),z=y("span"),Y=y("span"),Y.textContent="Added At: ",R=x(nt),V=w(),W=y("span"),F=y("span"),F.textContent="Completed At: ",B=x(st),J=w(),Q=y("p"),H=y("span"),H.textContent="Tags and keywords:",U=w();for(let t=0;t<it.length;t+=1)it[t].c();X=w();for(let t=0;t<dt.length;t+=1)dt[t].c();C(s,"class","mr-1 font-bold"),C(r,"class","link-icon svelte-1fxdkek"),C(n,"href",c=t[0].watch_url),C(n,"rel","noopener noreferrer"),C(n,"target","_blank"),C(n,"class","mr-2"),C(d,"class",p=u("badge badge--small "+(t[0].status>0?"badge--active":""))+" svelte-1fxdkek"),C(e,"class","svelte-1fxdkek"),$.src!==(_=Nt(t[0].thumbnail_filename))&&C($,"src",_),C($,"alt",""),C($,"class","svelte-1fxdkek"),C(O,"class","author svelte-1fxdkek"),C(I,"class","length svelte-1fxdkek"),C(j,"class","svelte-1fxdkek"),C(A,"class","text-muted"),C(L,"class","svelte-1fxdkek"),C(Y,"class","text-muted svelte-1fxdkek"),C(z,"class","mt-2"),C(F,"class","text-muted svelte-1fxdkek"),C(W,"class","mt-2"),C(P,"class","d-flex justify-between flex-column dates svelte-1fxdkek"),C(H,"class","tags-keywords text-muted"),C(Q,"class"," svelte-1fxdkek")},m(t,c){h(t,e,c),g(e,n),g(n,s),g(s,l),g(n,o),g(n,r),pt(a,r,null),g(e,i),g(e,d),g(d,f),h(t,m,c),h(t,$,c),h(t,k,c),h(t,j,c),g(j,O),g(O,S),g(j,M),g(j,I),g(I,q),h(t,T,c),h(t,L,c),g(L,A),g(L,D);for(let t=0;t<at.length;t+=1)at[t].m(L,null);h(t,N,c),h(t,P,c),g(P,z),g(z,Y),g(z,R),g(P,V),g(P,W),g(W,F),g(W,B),h(t,J,c),h(t,Q,c),g(Q,H),g(Q,U);for(let t=0;t<it.length;t+=1)it[t].m(Q,null);g(Q,X);for(let t=0;t<dt.length;t+=1)dt[t].m(Q,null);Z=!0},p(t,e){if((!Z||1&e)&&G!==(G=t[0].title+"")&&E(l,G),(!Z||1&e&&c!==(c=t[0].watch_url))&&C(n,"href",c),(!Z||1&e)&&K!==(K=t[0].status>0?"Downloaded":"Scheduled")&&E(f,K),(!Z||1&e&&p!==(p=u("badge badge--small "+(t[0].status>0?"badge--active":""))+" svelte-1fxdkek"))&&C(d,"class",p),(!Z||1&e&&$.src!==(_=Nt(t[0].thumbnail_filename)))&&C($,"src",_),(!Z||1&e)&&tt!==(tt=t[0].author+"")&&E(S,tt),(!Z||1&e)&&et!==(et=t[0].length+"")&&E(q,et),1&e){let n;for(rt=Object.keys(t[0].streams).filter($e),n=0;n<rt.length;n+=1){const s=ie(t,rt,n);at[n]?at[n].p(s,e):(at[n]=de(s),at[n].c(),at[n].m(L,null))}for(;n<at.length;n+=1)at[n].d(1);at.length=rt.length}if((!Z||1&e)&&nt!==(nt=t[0].added_at_str+"")&&E(R,nt),(!Z||1&e)&&st!==(st=(t[0].completed_at_str?t[0].completed_at_str:"")+"")&&E(B,st),1&e){let n;for(ct=t[0].tags,n=0;n<ct.length;n+=1){const s=ce(t,ct,n);it[n]?it[n].p(s,e):(it[n]=fe(s),it[n].c(),it[n].m(Q,X))}for(;n<it.length;n+=1)it[n].d(1);it.length=ct.length}if(1&e){let n;for(ut=t[0].keywords,n=0;n<ut.length;n+=1){const s=ae(t,ut,n);dt[n]?dt[n].p(s,e):(dt[n]=pe(s),dt[n].c(),dt[n].m(Q,null))}for(;n<dt.length;n+=1)dt[n].d(1);dt.length=ut.length}},i(t){Z||(lt(a.$$.fragment,t),Z=!0)},o(t){ot(a.$$.fragment,t),Z=!1},d(t){t&&v(e),mt(a),t&&v(m),t&&v($),t&&v(k),t&&v(j),t&&v(T),t&&v(L),b(at,t),t&&v(N),t&&v(P),t&&v(J),t&&v(Q),b(it,t),b(dt,t)}}}function de(t){let e,n,s,l=t[9]+"";return{c(){e=y("span"),n=x(l),C(e,"class",s=u((oe(t[0].streams)===t[9]?"badge--active":"")+" badge")+" svelte-1fxdkek")},m(t,s){h(t,e,s),g(e,n)},p(t,o){1&o&&l!==(l=t[9]+"")&&E(n,l),1&o&&s!==(s=u((oe(t[0].streams)===t[9]?"badge--active":"")+" badge")+" svelte-1fxdkek")&&C(e,"class",s)},d(t){t&&v(e)}}}function fe(t){let e,n,s=t[6]+"";return{c(){e=y("span"),n=x(s),C(e,"class","badge badge--small svelte-1fxdkek")},m(t,s){h(t,e,s),g(e,n)},p(t,e){1&e&&s!==(s=t[6]+"")&&E(n,s)},d(t){t&&v(e)}}}function pe(t){let e,n,s=t[3]+"";return{c(){e=y("span"),n=x(s),C(e,"class","badge badge--small svelte-1fxdkek")},m(t,s){h(t,e,s),g(e,n)},p(t,e){1&e&&s!==(s=t[3]+"")&&E(n,s)},d(t){t&&v(e)}}}function me(t){let e,n,s,l,o,r,a,c,i,u=t[0]&&ue(t);return{c(){e=y("h3"),e.textContent="View Video Item",n=w(),s=y("div"),u&&u.c(),l=w(),o=y("div"),r=y("button"),r.textContent="Close",C(e,"class","content__header svelte-1fxdkek"),C(s,"class","content__wrapper svelte-1fxdkek"),C(r,"class","btn btn-primary"),C(o,"class","content__footer svelte-1fxdkek")},m(d,f){h(d,e,f),h(d,n,f),h(d,s,f),u&&u.m(s,null),h(d,l,f),h(d,o,f),g(o,r),a=!0,c||(i=k(r,"click",t[1]),c=!0)},p(t,[e]){t[0]?u?(u.p(t,e),1&e&&lt(u,1)):(u=ue(t),u.c(),lt(u,1),u.m(s,null)):u&&(nt(),ot(u,1,1,(()=>{u=null})),st())},i(t){a||(lt(u),a=!0)},o(t){ot(u),a=!1},d(t){t&&v(e),t&&v(n),t&&v(s),u&&u.d(),t&&v(l),t&&v(o),c=!1,i()}}}const $e=t=>"default"!==t;function ge(t,e,n){const s=z();let{data:l}=e;return t.$$set=t=>{"data"in t&&n(0,l=t.data)},[l,()=>s("closeModal",null)]}class he extends ht{constructor(t){super(),gt(this,t,ge,me,r,{data:0})}}function ve(t){let e,n,s;return{c(){e=y("input"),C(e,"id",`${t[6]}`),C(e,"type","number"),e.required=!0,e.disabled=t[3],C(e,"class","svelte-18012p0")},m(l,o){h(l,e,o),O(e,t[0]),n||(s=[k(e,"input",t[11]),k(e,"keydown",t[12])],n=!0)},p(t,n){8&n&&(e.disabled=t[3]),1&n&&j(e.value)!==t[0]&&O(e,t[0])},d(t){t&&v(e),n=!1,l(s)}}}function be(t){let e,n,s;return{c(){e=y("input"),C(e,"id",`${t[6]}`),C(e,"type","text"),e.required=!0,e.disabled=t[3],C(e,"class","svelte-18012p0")},m(l,o){h(l,e,o),O(e,t[0]),n||(s=[k(e,"input",t[9]),k(e,"keydown",t[10])],n=!0)},p(t,n){8&n&&(e.disabled=t[3]),1&n&&e.value!==t[0]&&O(e,t[0])},d(t){t&&v(e),n=!1,l(s)}}}function ye(t){let e,n,s;return{c(){e=y("textarea"),C(e,"name",`textarea-${t[6]}`),C(e,"id",`${t[6]}`),C(e,"rows","5"),e.required=!0,e.disabled=t[3],C(e,"class","svelte-18012p0")},m(l,o){h(l,e,o),O(e,t[0]),n||(s=[k(e,"input",t[7]),k(e,"keydown",t[8])],n=!0)},p(t,n){8&n&&(e.disabled=t[3]),1&n&&O(e,t[0])},d(t){t&&v(e),n=!1,l(s)}}}function xe(e){let n,s,l,o,r;function a(t,e){return"textarea"===t[1]?ye:"text"===t[1]?be:ve}let c=a(e),i=c(e);return{c(){n=y("section"),i.c(),s=w(),l=y("label"),o=x(e[2]),C(l,"for",`${e[6]}`),C(l,"class","moving-label svelte-18012p0"),C(n,"class",r=u(`input-with-moving-label ${e[3]?"input-with-moving-label--disabled":""} ${e[4]}`)+" svelte-18012p0")},m(t,e){h(t,n,e),i.m(n,null),g(n,s),g(n,l),g(l,o)},p(t,[e]){c===(c=a(t))&&i?i.p(t,e):(i.d(1),i=c(t),i&&(i.c(),i.m(n,s))),4&e&&E(o,t[2]),24&e&&r!==(r=u(`input-with-moving-label ${t[3]?"input-with-moving-label--disabled":""} ${t[4]}`)+" svelte-18012p0")&&C(n,"class",r)},i:t,o:t,d(t){t&&v(n),i.d()}}}function we(t,e,n){const s=z();let{type:l="text"}=e,{value:o=""}=e,{label:r="Some Label"}=e,{disabled:a=!1}=e,{extraClasses:c=""}=e;const i=Date.now()+"-"+Math.random().toPrecision(16).split(".")[1];return t.$$set=t=>{"type"in t&&n(1,l=t.type),"value"in t&&n(0,o=t.value),"label"in t&&n(2,r=t.label),"disabled"in t&&n(3,a=t.disabled),"extraClasses"in t&&n(4,c=t.extraClasses)},[o,l,r,a,c,s,i,function(){o=this.value,n(0,o)},t=>s("keydown",t),function(){o=this.value,n(0,o)},t=>s("keydown",t),function(){o=j(this.value),n(0,o)},t=>s("keydown",t)]}class _e extends ht{constructor(t){super(),gt(this,t,we,xe,r,{type:1,value:0,label:2,disabled:3,extraClasses:4})}}function ke(t){let e,n,s,l,o,r,a,c,i,d,f,p,m,$,b,_,k,j,O,S,M,I,q,T=t[0].title+"",L=t[0].status>0?"Downloaded":"Scheduled",A=t[0].author+"",D=t[0].length+"";return a=new yt({props:{extraClass:"icon--image p-0--important m-0--important font-normal",faClass:"fa-link "}}),{c(){e=y("h4"),n=y("a"),s=y("span"),l=x(T),o=w(),r=y("span"),ft(a.$$.fragment),i=w(),d=y("span"),f=x(L),m=w(),$=y("img"),_=w(),k=y("h5"),j=y("span"),O=x(A),S=w(),M=y("span"),I=x(D),C(s,"class","mr-1 font-bold"),C(r,"class","link-icon svelte-rjuns1"),C(n,"href",c=t[0].watch_url),C(n,"rel","noopener noreferrer"),C(n,"target","_blank"),C(n,"class","mr-2"),C(d,"class",p=u("badge badge--small "+(t[0].status>0?"badge--active":""))+" svelte-rjuns1"),C(e,"class","svelte-rjuns1"),$.src!==(b=Nt(t[0].thumbnail_filename))&&C($,"src",b),C($,"alt",""),C($,"class","svelte-rjuns1"),C(j,"class","author svelte-rjuns1"),C(M,"class","length svelte-rjuns1"),C(k,"class","svelte-rjuns1")},m(t,c){h(t,e,c),g(e,n),g(n,s),g(s,l),g(n,o),g(n,r),pt(a,r,null),g(e,i),g(e,d),g(d,f),h(t,m,c),h(t,$,c),h(t,_,c),h(t,k,c),g(k,j),g(j,O),g(k,S),g(k,M),g(M,I),q=!0},p(t,e){(!q||1&e)&&T!==(T=t[0].title+"")&&E(l,T),(!q||1&e&&c!==(c=t[0].watch_url))&&C(n,"href",c),(!q||1&e)&&L!==(L=t[0].status>0?"Downloaded":"Scheduled")&&E(f,L),(!q||1&e&&p!==(p=u("badge badge--small "+(t[0].status>0?"badge--active":""))+" svelte-rjuns1"))&&C(d,"class",p),(!q||1&e&&$.src!==(b=Nt(t[0].thumbnail_filename)))&&C($,"src",b),(!q||1&e)&&A!==(A=t[0].author+"")&&E(O,A),(!q||1&e)&&D!==(D=t[0].length+"")&&E(I,D)},i(t){q||(lt(a.$$.fragment,t),q=!0)},o(t){ot(a.$$.fragment,t),q=!1},d(t){t&&v(e),mt(a),t&&v(m),t&&v($),t&&v(_),t&&v(k)}}}function Ce(t){let e,n,s,o,r,a,c,i,u,d,f,p,m,$,b,x,_,j,E,O,S,M,I;function q(e){t[5](e)}let T={disabled:!0,label:"Youtube Link"};function L(e){t[6](e)}void 0!==t[1].url&&(T.value=t[1].url),a=new _e({props:T}),R.push((()=>dt(a,"value",q)));let A={disabled:!0,label:"Resolution in pixels (720)",type:"number"};function D(e){t[7](e)}void 0!==t[1].resolution&&(A.value=t[1].resolution),u=new _e({props:A}),R.push((()=>dt(u,"value",L)));let N={label:"Comma Separated Tags"};void 0!==t[1].tags&&(N.value=t[1].tags),p=new _e({props:N}),R.push((()=>dt(p,"value",D)));let P=t[2]&&ke(t);return{c(){e=y("h3"),e.textContent="Edit Video Items",n=w(),s=y("section"),o=y("h4"),o.textContent="Enter Video Details:",r=w(),ft(a.$$.fragment),i=w(),ft(u.$$.fragment),f=w(),ft(p.$$.fragment),$=w(),b=y("button"),b.textContent="Add",x=w(),_=y("div"),P&&P.c(),j=w(),E=y("div"),O=y("button"),O.textContent="Close",C(e,"class","content__header svelte-rjuns1"),C(o,"class","svelte-rjuns1"),C(b,"class","btn btn-primary btn-accent-2 svelte-rjuns1"),C(s,"class","form svelte-rjuns1"),C(_,"class","content__wrapper svelte-rjuns1"),C(O,"class","btn btn-outline-primary svelte-rjuns1"),C(E,"class","content__footer svelte-rjuns1")},m(l,c){h(l,e,c),h(l,n,c),h(l,s,c),g(s,o),g(s,r),pt(a,s,null),g(s,i),pt(u,s,null),g(s,f),pt(p,s,null),g(s,$),g(s,b),h(l,x,c),h(l,_,c),P&&P.m(_,null),h(l,j,c),h(l,E,c),g(E,O),S=!0,M||(I=[k(b,"click",t[4]),k(O,"click",t[3])],M=!0)},p(t,[e]){const n={};!c&&2&e&&(c=!0,n.value=t[1].url,Q((()=>c=!1))),a.$set(n);const s={};!d&&2&e&&(d=!0,s.value=t[1].resolution,Q((()=>d=!1))),u.$set(s);const l={};!m&&2&e&&(m=!0,l.value=t[1].tags,Q((()=>m=!1))),p.$set(l),t[2]?P?(P.p(t,e),4&e&&lt(P,1)):(P=ke(t),P.c(),lt(P,1),P.m(_,null)):P&&(nt(),ot(P,1,1,(()=>{P=null})),st())},i(t){S||(lt(a.$$.fragment,t),lt(u.$$.fragment,t),lt(p.$$.fragment,t),lt(P),S=!0)},o(t){ot(a.$$.fragment,t),ot(u.$$.fragment,t),ot(p.$$.fragment,t),ot(P),S=!1},d(t){t&&v(e),t&&v(n),t&&v(s),mt(a),mt(u),mt(p),t&&v(x),t&&v(_),P&&P.d(),t&&v(j),t&&v(E),M=!1,l(I)}}}function je(t,e,n){this&&this.__rest;const s=z();let l={url:"",resolution:720,tags:"",status:""},{video:o}=e,r=[];return t.$$set=t=>{"video"in t&&n(0,o=t.video)},t.$$.update=()=>{1&t.$$.dirty&&n(1,l={url:o.watch_url,resolution:parseInt(oe(o.streams)+""),tags:o.tags.join(","),status:""})},[o,l,r,()=>s("closeModal",null),()=>{n(2,r=[...r.filter((t=>l.url!==t.url)),Object.assign({},l)]),((t="",e=720,s="")=>{n(1,l={url:t,resolution:e,tags:s,status:""})})()},function(e){t.$$.not_equal(l.url,e)&&(l.url=e,n(1,l),n(0,o))},function(e){t.$$.not_equal(l.resolution,e)&&(l.resolution=e,n(1,l),n(0,o))},function(e){t.$$.not_equal(l.tags,e)&&(l.tags=e,n(1,l),n(0,o))}]}class Ee extends ht{constructor(t){super(),gt(this,t,je,Ce,r,{video:0})}}function Oe(t){let e,n,s,l,o,r;return{c(){e=y("div"),n=y("div"),s=y("div"),l=y("div"),o=y("div"),C(n,"class","svelte-17gltpc"),C(s,"class","svelte-17gltpc"),C(l,"class","svelte-17gltpc"),C(o,"class","svelte-17gltpc"),C(e,"class",r=u(`lds-ellipsis ${t[1]}`)+" svelte-17gltpc")},m(t,r){h(t,e,r),g(e,n),g(e,s),g(e,l),g(e,o)},p(t,n){2&n&&r!==(r=u(`lds-ellipsis ${t[1]}`)+" svelte-17gltpc")&&C(e,"class",r)},d(t){t&&v(e)}}}function Se(e){let n,s="ellipsis"===e[0]&&Oe(e);return{c(){s&&s.c(),n=_()},m(t,e){s&&s.m(t,e),h(t,n,e)},p(t,[e]){"ellipsis"===t[0]?s?s.p(t,e):(s=Oe(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&v(n)}}}function Me(t,e,n){let{type:s="ellipsis"}=e,{extraClasses:l=""}=e;return t.$$set=t=>{"type"in t&&n(0,s=t.type),"extraClasses"in t&&n(1,l=t.extraClasses)},[s,l]}class Ie extends ht{constructor(t){super(),gt(this,t,Me,Se,r,{type:0,extraClasses:1})}}function qe(t,e,n){const s=t.slice();return s[14]=e[n].url,s[15]=e[n].resolution,s[16]=e[n].tags,s[17]=e[n].status,s}function Te(t,e,n){const s=t.slice();return s[20]=e[n],s}function Le(t){let e;return{c(){e=y("h4"),e.textContent="Items to Submit:",C(e,"class","mb-4")},m(t,n){h(t,e,n)},d(t){t&&v(e)}}}function Ae(t){let e,n;return e=new yt({props:{extraClass:"icon--image",faClass:"fa-times"}}),{c(){ft(e.$$.fragment)},m(t,s){pt(e,t,s),n=!0},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function De(t){let e,n;return e=new yt({props:{extraClass:"icon--image",faClass:"fa-check"}}),{c(){ft(e.$$.fragment)},m(t,s){pt(e,t,s),n=!0},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function Ne(t){let e,n;return e=new Ie({props:{type:"ellipsis",extraClasses:"loader"}}),{c(){ft(e.$$.fragment)},m(t,s){pt(e,t,s),n=!0},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function Pe(e){let n;return{c(){n=y("span")},m(t,e){h(t,n,e)},i:t,o:t,d(t){t&&v(n)}}}function ze(t){let e,n,s=t[20]+"";return{c(){e=y("span"),n=x(s),C(e,"class","text-muted")},m(t,s){h(t,e,s),g(e,n)},p(t,e){2&e&&s!==(s=t[20]+"")&&E(n,s)},d(t){t&&v(e)}}}function Ye(t){let e,n,s,l,o,r,a,c,i,d,f,p,m,$,_,k,j,O,S,M,I,q,T,L,A=t[14]+"",D=t[15]?`${t[15]}p`:"";c=new yt({props:{extraClass:"icon--option no-box-shadow--important hover:bg-dark-5--important scale-up-10",faClass:"fa-edit"}}),c.$on("click",(function(){return t[10](t[14],t[15],t[16])})),d=new yt({props:{extraClass:"icon--option no-box-shadow--important hover:bg-dark-5--important scale-up-10",faClass:"fa-trash"}}),d.$on("click",(function(){return t[11](t[14])}));const N=[Pe,Ne,De,Ae],P=[];function z(t,e){return""===t[17]?0:"fetching"===t[17]?1:"success"===t[17]?2:"failure"===t[17]?3:-1}~(m=z(t))&&($=P[m]=N[m](t));let Y=t[16].split(","),R=[];for(let e=0;e<Y.length;e+=1)R[e]=ze(Te(t,Y,e));return{c(){e=y("section"),n=y("div"),s=y("a"),l=x(A),r=w(),a=y("span"),ft(c.$$.fragment),i=w(),ft(d.$$.fragment),f=w(),p=y("div"),$&&$.c(),_=w(),k=y("div"),j=y("span"),O=x(D),S=w(),M=y("span"),M.textContent="-",I=w();for(let t=0;t<R.length;t+=1)R[t].c();q=w(),C(s,"href",o=t[14]),C(s,"class","font-bold svelte-7ztfpg"),C(a,"class","icons ml-4 svelte-7ztfpg"),C(n,"class","item-to-add__header svelte-7ztfpg"),C(p,"class","item-to-add__status svelte-7ztfpg"),C(j,"class","text-muted"),C(M,"class","text-muted"),C(k,"class","item-to-add__details svelte-7ztfpg"),C(e,"class",T=u(`item-to-add ${re(t[17])}`)+" svelte-7ztfpg")},m(t,o){h(t,e,o),g(e,n),g(n,s),g(s,l),g(n,r),g(n,a),pt(c,a,null),g(a,i),pt(d,a,null),g(e,f),g(e,p),~m&&P[m].m(p,null),g(e,_),g(e,k),g(k,j),g(j,O),g(k,S),g(k,M),g(k,I);for(let t=0;t<R.length;t+=1)R[t].m(k,null);g(e,q),L=!0},p(n,r){t=n,(!L||2&r)&&A!==(A=t[14]+"")&&E(l,A),(!L||2&r&&o!==(o=t[14]))&&C(s,"href",o);let a=m;if(m=z(t),m!==a&&($&&(nt(),ot(P[a],1,1,(()=>{P[a]=null})),st()),~m?($=P[m],$||($=P[m]=N[m](t),$.c()),lt($,1),$.m(p,null)):$=null),(!L||2&r)&&D!==(D=t[15]?`${t[15]}p`:"")&&E(O,D),2&r){let e;for(Y=t[16].split(","),e=0;e<Y.length;e+=1){const n=Te(t,Y,e);R[e]?R[e].p(n,r):(R[e]=ze(n),R[e].c(),R[e].m(k,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=Y.length}(!L||2&r&&T!==(T=u(`item-to-add ${re(t[17])}`)+" svelte-7ztfpg"))&&C(e,"class",T)},i(t){L||(lt(c.$$.fragment,t),lt(d.$$.fragment,t),lt($),L=!0)},o(t){ot(c.$$.fragment,t),ot(d.$$.fragment,t),ot($),L=!1},d(t){t&&v(e),mt(c),mt(d),~m&&P[m].d(),b(R,t)}}}function Re(t){let e,n,s,o,r,a,c,i,u,d,f,p,m,$,x,_,j,E,O,S,M,I,q,T,L,A;function D(e){t[7](e)}let N={label:"Youtube Link"};function P(e){t[8](e)}void 0!==t[0].url&&(N.value=t[0].url),a=new _e({props:N}),R.push((()=>dt(a,"value",D)));let z={label:"Resolution in pixels (720)",type:"number"};function Y(e){t[9](e)}void 0!==t[0].resolution&&(z.value=t[0].resolution),u=new _e({props:z}),R.push((()=>dt(u,"value",P)));let V={label:"Comma Separated Tags"};void 0!==t[0].tags&&(V.value=t[0].tags),p=new _e({props:V}),R.push((()=>dt(p,"value",Y)));let W=t[1].length>0&&Le(),F=t[1],B=[];for(let e=0;e<F.length;e+=1)B[e]=Ye(qe(t,F,e));const J=t=>ot(B[t],1,1,(()=>{B[t]=null}));return{c(){e=y("h3"),e.textContent="Add Video Items",n=w(),s=y("section"),o=y("h4"),o.textContent="Enter Video Details:",r=w(),ft(a.$$.fragment),i=w(),ft(u.$$.fragment),f=w(),ft(p.$$.fragment),$=w(),x=y("button"),x.textContent="Add",_=w(),j=y("div"),W&&W.c(),E=w();for(let t=0;t<B.length;t+=1)B[t].c();O=w(),S=y("div"),M=y("button"),M.textContent="Submit",I=w(),q=y("button"),q.textContent="Close",C(e,"class","content__header svelte-7ztfpg"),C(x,"class","btn btn-primary btn-accent-2 svelte-7ztfpg"),C(s,"class","form svelte-7ztfpg"),C(j,"class","content__wrapper svelte-7ztfpg"),C(M,"class","btn btn-primary svelte-7ztfpg"),C(q,"class","btn btn-outline-primary svelte-7ztfpg"),C(S,"class","content__footer svelte-7ztfpg")},m(l,c){h(l,e,c),h(l,n,c),h(l,s,c),g(s,o),g(s,r),pt(a,s,null),g(s,i),pt(u,s,null),g(s,f),pt(p,s,null),g(s,$),g(s,x),h(l,_,c),h(l,j,c),W&&W.m(j,null),g(j,E);for(let t=0;t<B.length;t+=1)B[t].m(j,null);h(l,O,c),h(l,S,c),g(S,M),g(S,I),g(S,q),T=!0,L||(A=[k(x,"click",t[4]),k(M,"click",t[6]),k(q,"click",t[2])],L=!0)},p(t,[e]){const n={};!c&&1&e&&(c=!0,n.value=t[0].url,Q((()=>c=!1))),a.$set(n);const s={};!d&&1&e&&(d=!0,s.value=t[0].resolution,Q((()=>d=!1))),u.$set(s);const l={};if(!m&&1&e&&(m=!0,l.value=t[0].tags,Q((()=>m=!1))),p.$set(l),t[1].length>0?W||(W=Le(),W.c(),W.m(j,E)):W&&(W.d(1),W=null),42&e){let n;for(F=t[1],n=0;n<F.length;n+=1){const s=qe(t,F,n);B[n]?(B[n].p(s,e),lt(B[n],1)):(B[n]=Ye(s),B[n].c(),lt(B[n],1),B[n].m(j,null))}for(nt(),n=F.length;n<B.length;n+=1)J(n);st()}},i(t){if(!T){lt(a.$$.fragment,t),lt(u.$$.fragment,t),lt(p.$$.fragment,t);for(let t=0;t<F.length;t+=1)lt(B[t]);T=!0}},o(t){ot(a.$$.fragment,t),ot(u.$$.fragment,t),ot(p.$$.fragment,t),B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)ot(B[t]);T=!1},d(t){t&&v(e),t&&v(n),t&&v(s),mt(a),mt(u),mt(p),t&&v(_),t&&v(j),W&&W.d(),b(B,t),t&&v(O),t&&v(S),L=!1,l(A)}}}function Ve(t,e,n){var s=this&&this.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(n[s[l]]=t[s[l]])}return n};const l=z();let o={url:"",resolution:720,tags:"",status:""},r=[];const a=(t="",e=720,s="")=>n(0,o={url:t,resolution:e,tags:s,status:""}),c=t=>n(1,r=r.filter((e=>t!==e.url)));return[o,r,()=>l("closeModal",null),a,()=>{n(1,r=[...r.filter((t=>o.url!==t.url)),Object.assign({},o)]),a()},c,()=>async function(t,e,n){e&&e();const s=await fetch(`${Dt}/videos/new/bulk`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),l=await s.json(),{failed:o,created:r}=l.results;n&&n(o,r)}(r.map((t=>{var{tags:e}=t,n=s(t,["tags"]);return Object.assign(Object.assign({},n),{tags:e.split(",")})})),(()=>n(1,r=r.map((t=>{var e=s(t,["status"]);return Object.assign(Object.assign({},e),{status:"fetching"})})))),((t,e)=>{t.forEach((t=>n(1,r=r.map((e=>{var{status:n}=e,l=s(e,["status"]);return Object.assign(Object.assign({},l),{status:l.url.includes(JSON.parse(t).video.uri)?"failure":n})}))))),e.forEach((t=>n(1,r=r.map((e=>{var{status:n}=e,l=s(e,["status"]);return Object.assign(Object.assign({},l),{status:l.url.includes(JSON.parse(t).video.uri)?"success":n})})))))})),function(e){t.$$.not_equal(o.url,e)&&(o.url=e,n(0,o))},function(e){t.$$.not_equal(o.resolution,e)&&(o.resolution=e,n(0,o))},function(e){t.$$.not_equal(o.tags,e)&&(o.tags=e,n(0,o))},(t,e,n)=>a(t,e,n),t=>c(t)]}class We extends ht{constructor(t){super(),gt(this,t,Ve,Re,r,{})}}function Fe(t){let e;return{c(){e=x("Invalid JSON Object")},m(t,n){h(t,e,n)},d(t){t&&v(e)}}}function Be(t){let e;return{c(){e=x("Valid JSON Object")},m(t,n){h(t,e,n)},d(t){t&&v(e)}}}function Je(t){let e,n,s,o,r,a,c,i,d,f,p,m,$,b,x,_;function j(e){t[4](e)}let E={label:"DSL Query",type:"textarea",extraClasses:"math"};function O(t,e){return t[1]?Be:Fe}void 0!==t[0]&&(E.value=t[0]),o=new _e({props:E}),R.push((()=>dt(o,"value",j))),o.$on("keydown",t[5]);let S=O(t),M=S(t);return{c(){e=y("h3"),e.textContent="Submit New Query",n=w(),s=y("div"),ft(o.$$.fragment),a=w(),c=y("div"),M.c(),d=w(),f=y("div"),p=y("button"),p.textContent="Submit",m=w(),$=y("button"),$.textContent="Close",C(e,"class","content__header svelte-gm7jlo"),C(c,"class",i=u("is-valid-json "+(t[1]?"":"is-valid-json--invalid"))+" svelte-gm7jlo"),C(s,"class","content__wrapper svelte-gm7jlo"),C(p,"class","btn btn-primary svelte-gm7jlo"),C($,"class","btn btn-outline-primary svelte-gm7jlo"),C(f,"class","content__footer svelte-gm7jlo")},m(l,r){h(l,e,r),h(l,n,r),h(l,s,r),pt(o,s,null),g(s,a),g(s,c),M.m(c,null),h(l,d,r),h(l,f,r),g(f,p),g(f,m),g(f,$),b=!0,x||(_=[k(p,"click",t[6]),k($,"click",t[2])],x=!0)},p(t,[e]){const n={};!r&&1&e&&(r=!0,n.value=t[0],Q((()=>r=!1))),o.$set(n),S!==(S=O(t))&&(M.d(1),M=S(t),M&&(M.c(),M.m(c,null))),(!b||2&e&&i!==(i=u("is-valid-json "+(t[1]?"":"is-valid-json--invalid"))+" svelte-gm7jlo"))&&C(c,"class",i)},i(t){b||(lt(o.$$.fragment,t),b=!0)},o(t){ot(o.$$.fragment,t),b=!1},d(t){t&&v(e),t&&v(n),t&&v(s),mt(o),M.d(),t&&v(d),t&&v(f),x=!1,l(_)}}}function Qe(t,e,n){const s=z(),l=z(),o=()=>s("closeModal",null),r=t=>l("queryResults",t);let a="{}",c={};return t.$$.update=()=>{1&t.$$.dirty&&n(1,c=(t=>{try{return JSON.parse(t)}catch(t){return null}})(a))},[a,c,o,r,function(t){a=t,n(0,a)},t=>function(t){const e=t.currentTarget;if("Tab"==t.key){t.preventDefault();var n=e.selectionStart,s=e.selectionEnd;e.value=e.value.substring(0,n)+"\t"+e.value.substring(s),e.selectionStart=e.selectionEnd=n+1}}(t.detail),()=>o&&async function(t,e,n){e&&e();const s=await fetch(`${Dt}/videos/queries`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify("query"in t?t:{query:t})}),l=await s.json(),{video:o,videos:r}=await l.json();n&&n([o].concat(r))}(c||{},null,r)]}class He extends ht{constructor(t){super(),gt(this,t,Qe,Je,r,{})}}function Ue(t){let e,n,s,l,o,r,c,d;const f=t[3].default,p=a(f,t,t[2],null);return{c(){e=y("div"),n=y("div"),p&&p.c(),l=w(),o=y("div"),C(n,"class","modal__content svelte-jps7k0"),C(e,"class",s=u("modal "+(t[0]?"modal--show":""))+" svelte-jps7k0"),C(o,"class","modal__overlay svelte-jps7k0")},m(s,a){h(s,e,a),g(e,n),p&&p.m(n,null),h(s,l,a),h(s,o,a),r=!0,c||(d=k(o,"click",t[1]),c=!0)},p(t,[n]){p&&p.p&&4&n&&i(p,f,t,t[2],n,null,null),(!r||1&n&&s!==(s=u("modal "+(t[0]?"modal--show":""))+" svelte-jps7k0"))&&C(e,"class",s)},i(t){r||(lt(p,t),r=!0)},o(t){ot(p,t),r=!1},d(t){t&&v(e),p&&p.d(t),t&&v(l),t&&v(o),c=!1,d()}}}function Xe(t,e,n){let{$$slots:s={},$$scope:l}=e,{visible:o=!1}=e;const r=z();return t.$$set=t=>{"visible"in t&&n(0,o=t.visible),"$$scope"in t&&n(2,l=t.$$scope)},[o,()=>r("closeModal",null),l,s]}class Ze extends ht{constructor(t){super(),gt(this,t,Xe,Ue,r,{visible:0})}}const Ge=()=>{let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)};function Ke(){Ge(),window.addEventListener("resize",Ge)}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */const tn=(t,e,n)=>t+e<n?t:t-e>0?t-e:n-e,en=(t,e,{id:n,leftSlot:s,rightSlot:l,hasSubMenu:o,onClick:r})=>{const a=document.createElement("li");a.setAttribute("class",`${t}__item ${o?e:""}`),a.setAttribute("data-menu-item-id",`${n}`),a.innerHTML=`<span>${s}</span><span>${l}</span>`;const c=a.cloneNode(!0);return r&&c.addEventListener("click",r),c},nn=({x:t,y:e},n,s,l)=>{const o="context-menu",r=document.createElement("ul"),a=document.createElement("nav");a.classList.add(o),a.appendChild(r),document.body.append(a);const c=()=>document.body.contains(a)&&document.body.removeChild(a);return n.map((t=>{var e,{onClick:n}=t,s=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(n[s[l]]=t[s[l]])}return n}(t,["onClick"]);return Object.assign(Object.assign({},s),{onClick:(e=n,e&&((...t)=>{c(),e(...t)}))})})).map(en.bind(null,o,l)).forEach((t=>r.appendChild(t))),((t,e)=>{const{innerWidth:n,innerHeight:s}=window,l=t.offsetWidth+4,o=t.offsetHeight+4;t.style.left=`${tn(e.x,l,n)}px`,t.style.top=`${tn(e.y,o,s)}px`})(a,{x:t,y:e}),c},sn=(t,e,n="has-menu",s="has-submenu")=>{let l=null;return t.addEventListener("click",(t=>{l&&l();const o=((t,e)=>{let n=t.srcElement||t.target;for(;n;){if(n.classList&&n.classList.contains(e))return n;n=n.parentNode}return null})(t,n);o&&e&&e.getItems&&(l=nn((t=>{const[e,n]=(s=t||window.event).pageX||s.pageY?[s.pageX,s.pageY]:s.clientX||s.clientY?[s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,s.clientY+document.body.scrollTop+document.documentElement.scrollTop]:[0,0];var s;return{x:e,y:n}})(t),e.getItems(o),0,s))})),t};let ln=0;const on=()=>ln++;var rn;!function(t){t[t.EMPTY=0]="EMPTY",t[t.VIEW_ITEM=1]="VIEW_ITEM",t[t.EDIT_ITEM=2]="EDIT_ITEM",t[t.ADD_ITEM=3]="ADD_ITEM",t[t.NEW_QUERY=4]="NEW_QUERY"}(rn||(rn={}));function an(e){let n,s;return n=new He({}),n.$on("closeModal",e[8]),n.$on("queryResults",e[15]),{c(){ft(n.$$.fragment)},m(t,e){pt(n,t,e),s=!0},p:t,i(t){s||(lt(n.$$.fragment,t),s=!0)},o(t){ot(n.$$.fragment,t),s=!1},d(t){mt(n,t)}}}function cn(e){let n,s;return n=new We({}),n.$on("closeModal",e[8]),{c(){ft(n.$$.fragment)},m(t,e){pt(n,t,e),s=!0},p:t,i(t){s||(lt(n.$$.fragment,t),s=!0)},o(t){ot(n.$$.fragment,t),s=!1},d(t){mt(n,t)}}}function un(t){let e,n;return e=new Ee({props:{video:t[0].filter(t[14])[0]}}),e.$on("closeModal",t[8]),{c(){ft(e.$$.fragment)},m(t,s){pt(e,t,s),n=!0},p(t,n){const s={};5&n&&(s.video=t[0].filter(t[14])[0]),e.$set(s)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function dn(t){let e,n;return e=new he({props:{data:t[0].filter(t[13])[0]}}),e.$on("closeModal",t[8]),{c(){ft(e.$$.fragment)},m(t,s){pt(e,t,s),n=!0},p(t,n){const s={};5&n&&(s.data=t[0].filter(t[13])[0]),e.$set(s)},i(t){n||(lt(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){mt(e,t)}}}function fn(t){let e,n,s,l;const o=[dn,un,cn,an],r=[];function a(t,e){return t[2].mode===rn.VIEW_ITEM?0:t[2].mode===rn.EDIT_ITEM?1:t[2].mode===rn.ADD_ITEM?2:t[2].mode===rn.NEW_QUERY?3:-1}return~(e=a(t))&&(n=r[e]=o[e](t)),{c(){n&&n.c(),s=_()},m(t,n){~e&&r[e].m(t,n),h(t,s,n),l=!0},p(t,l){let c=e;e=a(t),e===c?~e&&r[e].p(t,l):(n&&(nt(),ot(r[c],1,1,(()=>{r[c]=null})),st()),~e?(n=r[e],n?n.p(t,l):(n=r[e]=o[e](t),n.c()),lt(n,1),n.m(s.parentNode,s)):n=null)},i(t){l||(lt(n),l=!0)},o(t){ot(n),l=!1},d(t){~e&&r[e].d(t),t&&v(s)}}}function pn(t){let e,n,s,l,o,r,a,c,i,u;function d(e){t[16](e)}e=new Ze({props:{visible:t[2].mode!==rn.EMPTY,$$slots:{default:[fn]},$$scope:{ctx:t}}}),e.$on("closeModal",t[8]);let f={isInSelectionMode:t[4],downloadLink:t[3]};return void 0!==t[1]&&(f.filterExpression=t[1]),l=new Mt({props:f}),R.push((()=>dt(l,"filterExpression",d))),l.$on("selectionControlAction",t[12]),a=new le({props:{isInSelectionMode:t[4],data:t[5]}}),a.$on("selectionChange",t[17]),i=new _t({}),i.$on("selectMode",t[10]),i.$on("addItems",t[6]),i.$on("newQuery",t[7]),{c(){ft(e.$$.fragment),n=w(),s=y("div"),ft(l.$$.fragment),r=w(),ft(a.$$.fragment),c=w(),ft(i.$$.fragment),C(s,"class","app-container svelte-jj1h3n")},m(t,o){pt(e,t,o),h(t,n,o),h(t,s,o),pt(l,s,null),g(s,r),pt(a,s,null),g(s,c),pt(i,s,null),u=!0},p(t,[n]){const s={};4&n&&(s.visible=t[2].mode!==rn.EMPTY),2097157&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const r={};16&n&&(r.isInSelectionMode=t[4]),8&n&&(r.downloadLink=t[3]),!o&&2&n&&(o=!0,r.filterExpression=t[1],Q((()=>o=!1))),l.$set(r);const c={};16&n&&(c.isInSelectionMode=t[4]),32&n&&(c.data=t[5]),a.$set(c)},i(t){u||(lt(e.$$.fragment,t),lt(l.$$.fragment,t),lt(a.$$.fragment,t),lt(i.$$.fragment,t),u=!0)},o(t){ot(e.$$.fragment,t),ot(l.$$.fragment,t),ot(a.$$.fragment,t),ot(i.$$.fragment,t),u=!1},d(t){mt(e,t),t&&v(n),t&&v(s),mt(l),mt(a),mt(i)}}}function mn(t,e,n){let s;var l=this&&this.__rest||function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(s=Object.getOwnPropertySymbols(t);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(t,s[l])&&(n[s[l]]=t[s[l]])}return n};P(Ke);let o={mode:rn.EMPTY,data:null};const r=(t,e=!1)=>n(2,o={mode:e?rn.EDIT_ITEM:rn.VIEW_ITEM,data:t});let a=[];const c=t=>n(0,a=t.map((t=>Object.assign(Object.assign({},t),{selected:!1}))));P((()=>async function(t,e){t&&t();const n=await fetch(`${Dt}/videos/`),{video:s,videos:l}=await n.json();e&&e([s].concat(l))}(null,c)));let i="",u=null,d=!1;const f=()=>n(4,d=!0),p=t=>m({itemId:t,state:a.filter((({id:e})=>e===t))[0].selected}),m=({itemId:t,state:e})=>{f(),n(0,a=a.map((n=>{var{selected:s,id:o}=n,r=l(n,["selected","id"]);return o===t?Object.assign({selected:!e,id:o},r):Object.assign({selected:s,id:o},r)})))};P((()=>{return sn(document.querySelector(".app-container"),(t="id-menu-owner",e=p,n=r,{getItems:s=>{const l=((t,e)=>{let n=t;const s=e.replace(/[^a-zA-Z0-9 ]/g," ").toLowerCase().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,(function(t,e){return 0==+t?"":0===e?t.toLowerCase():t.toUpperCase()}));for(;n;){if(n.dataset&&s in n.dataset)return n.dataset[s];n=n.parentNode}return null})(s,t);return[{id:on(),onClick:t=>n(l,!1),hasSubMenu:!1,leftSlot:"View Item",rightSlot:"<i class='fas fa-eye'></i>"},{id:on(),onClick:t=>n(l,!0),hasSubMenu:!1,leftSlot:"Edit Item",rightSlot:"<i class='fas fa-pencil-alt'></i>"},{id:on(),onClick:t=>e(l),hasSubMenu:!1,leftSlot:"Select Item",rightSlot:"<i class='fas fa-hand-pointer'></i>"}]}}));var t,e,n}));return t.$$.update=()=>{3&t.$$.dirty&&n(5,s=((t,e)=>{let n=t;for(let[t,s]of function*(t){const e=t.match(/[^\]\[]+/gm);for(let n of e||[t]){const[t,e]=n.split(":");yield e&&e.length>0?[t,e]:["any",t]}}(e))n=n.filter((e=>JSON.stringify("any"===t?e:e[t]).toLowerCase().includes((s+"").toLowerCase())));return n})(a,i))},[a,i,o,u,d,s,()=>n(2,o={mode:rn.ADD_ITEM,data:null}),()=>n(2,o={mode:rn.NEW_QUERY,data:null}),()=>n(2,o={mode:rn.EMPTY,data:null}),c,f,m,({detail:t})=>{"select-all"===t&&n(0,a=a.map((t=>{var e=l(t,["selected"]);return Object.assign({selected:!0},e)}))),("select-none"===t||"cancel"===t)&&n(0,a=a.map((t=>{var e=l(t,["selected"]);return Object.assign({selected:!1},e)}))),"cancel"===t&&n(4,d=!1),"download"===t&&async function(t,e,n){e&&e();const s=await fetch(`${Dt}/zip`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}),l=await s.json(),{link:o}=l;n&&n(o||null)}(a.filter((({selected:t})=>!0===t)).map((({id:t})=>t)),null,(t=>n(3,u=t)))},({id:t})=>t===o.data,({id:t})=>t===o.data,t=>c(t.detail.map((t=>({...t,selected:!1})))),function(t){i=t,n(1,i)},({detail:t})=>m(t)]}return new class extends ht{constructor(t){super(),gt(this,t,mn,pn,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
